/**
 * skylark-io-readers - The skylark reader io library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(r,t){var n=t.define,require=t.require,e="function"==typeof n&&n.amd,i=!e&&"undefined"!=typeof exports;if(!e&&!n){var a={};n=t.define=function(r,t,n){"function"==typeof n?(a[r]={factory:n,deps:t.map(function(t){return function(r,t){if("."!==r[0])return r;var n=t.split("/"),e=r.split("/");n.pop();for(var i=0;i<e.length;i++)"."!=e[i]&&(".."==e[i]?n.pop():n.push(e[i]));return n.join("/")}(t,r)}),resolved:!1,exports:null},require(r)):a[r]={factory:null,resolved:!0,exports:n}},require=t.require=function(r){if(!a.hasOwnProperty(r))throw new Error("Module "+r+" has not been defined");var module=a[r];if(!module.resolved){var n=[];module.deps.forEach(function(r){n.push(require(r))}),module.exports=module.factory.apply(t,n)||null,module.resolved=!0}return module.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(r,require){r("skylark-langx-ns/_attach",[],function(){return function(r,t,n){"string"==typeof t&&(t=t.split("."));for(var e=t.length,i=r,a=0,o=t[a++];a<e;)i=i[o]=i[o]||{},o=t[a++];if(i[o]){if(n)throw new Error("This namespace already exists:"+t)}else i[o]=n||{};return i[o]}}),r("skylark-langx-ns/ns",["./_attach"],function(r){var t={attach:function(n,e){return r(t,n,e)}};return t}),r("skylark-langx-ns/main",["./ns"],function(r){return r}),r("skylark-langx-ns",["skylark-langx-ns/main"],function(r){return r}),r("skylark-io-readers/readers",["skylark-langx-ns"],function(r){return r.attach("io.readers")}),r("skylark-langx-events/events",["skylark-langx-ns"],function(r){return r.attach("langx.events",{})}),r("skylark-langx-types/types",["skylark-langx-ns"],function(r){var t,n=Array.isArray,e={}.toString,i=(t={},"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(r){t["[object "+r+"]"]=r.toLowerCase()}),function(r){return null==r?String(r):t[e.call(r)]||"object"}),a=n||function(r){return object&&object.constructor===Array};function o(r){var t;for(t in r)if(null!==r[t])return!1;return!0}function s(r){return"function"==i(r)}function u(r){return r&&r.nodeType}function f(r){return"number"==typeof r}function l(r){var t=typeof r;return"function"===t||"object"===t&&!!r}function c(r){return"string"==typeof r}function h(r){return r&&r==r.window}function y(r){return"symbol"==typeof r}var p=1/0,g=1.7976931348623157e308,d=NaN,k=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,m=/^0o[0-7]+$/i,x=parseInt;function w(r){if(!r)return 0===r?r:0;if((r=A(r))===p||r===-p){var t=r<0?-1:1;return t*g}return r==r?r:0}function A(r){if("number"==typeof r)return r;if(y(r))return d;if(l(r)){var t="function"==typeof r.valueOf?r.valueOf():r;r=l(t)?t+"":t}if("string"!=typeof r)return 0===r?r:+r;r=r.replace(k,"");var n=b.test(r);return n||m.test(r)?x(r.slice(2),n?2:8):v.test(r)?d:+r}return r.attach("langx.types",{isArray:a,isArrayLike:function(r){return!c(r)&&!u(r)&&"number"==typeof r.length&&!s(r)},isBoolean:function(r){return!0===r||!1===r||"[object Boolean]"===e.call(r)},isDefined:function(r){return void 0!==r},isDocument:function(r){return null!=r&&r.nodeType==r.DOCUMENT_NODE},isElement:function(r){return!(!r||1!==r.nodeType)},isEmpty:o,isEmptyObject:o,isFunction:s,isHtmlNode:u,isInstanceOf:function(r,t){return void 0!==r&&(null===r||t==Object||("number"==typeof r?t===Number:"string"==typeof r?t===String:"boolean"==typeof r?t===Boolean:"string"==typeof r?t===String:r instanceof t||!(!r||!r.isInstanceOf)&&r.isInstanceOf(t)))},isNaN:function(r){return isNaN(r)},isNull:function(r){return null===r},isNumber:f,isNumeric:f,isObject:l,isPlainObject:function(r){return l(r)&&!h(r)&&Object.getPrototypeOf(r)==Object.prototype},isString:c,isSameOrigin:function(r){if(r){var t=location.protocol+"//"+location.hostname;return location.port&&(t+=":"+location.port),r.startsWith(t)}},isSymbol:y,isUndefined:function(r){return void 0===r},isWindow:h,type:i,toFinite:w,toNumber:A,toInteger:function(r){var t=w(r),n=t%1;return t==t?n?t-n:t:0}})}),r("skylark-langx-types/main",["./types"],function(r){return r}),r("skylark-langx-types",["skylark-langx-types/main"],function(r){return r}),r("skylark-langx-objects/objects",["skylark-langx-ns","skylark-langx-types"],function(r,t){return r.attach("langx.objects",{attach:r.attach})}),r("skylark-langx-objects/all-keys",["skylark-langx-types","./objects"],function(r,t){return t.allKeys=function(t){if(!r.isObject(t))return[];var n=[];for(var e in t)n.push(e);return n}}),r("skylark-langx-objects/assign",["skylark-langx-types","./objects"],function(r,t){return t.assign=Object.assign}),r("skylark-langx-objects/to-key",["skylark-langx-types","./objects"],function(r,t){const n=r.isSymbol,e=r.isString,i=1/0;return t.toKey=function(r){if(e(r)||n(r))return r;const t=`${r}`;return"0"==t&&1/r==-i?"-0":t}}),r("skylark-langx-objects/is-key",["skylark-langx-types","./objects"],function(r,t){const n=r.isSymbol,e=r.isArray,i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;return t.isKey=function(r,t){if(e(r))return!1;const o=typeof r;if("number"===o||"boolean"===o||null==r||n(r))return!0;return a.test(r)||!i.test(r)||null!=t&&r in Object(t)}}),r("skylark-langx-objects/_cast_path",["skylark-langx-types","./objects","./is-key"],function(r,t,n){const e=".".charCodeAt(0),i=/\\(\\)?/g,a=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),o=r=>{const t=[];return r.charCodeAt(0)===e&&t.push(""),r.replace(a,(r,n,e,a)=>{let o=r;e?o=a.replace(i,"$1"):n&&(o=n.trim()),t.push(o)}),t};return function(t,e){if(r.isArray(t))return t;return n(t,e)?[t]:o(t)}}),r("skylark-langx-objects/get",["skylark-langx-types","./objects","./to-key","./_cast_path"],function(r,t,n,e){return t.get=function(r,t,i){const a=null==r?void 0:function(r,t){let i=0;const a=(t=e(t,r)).length;for(;null!=r&&i<a;)r=r[n(t[i++])];return i&&i==a?r:void 0}(r,t);return void 0===a?i:a}}),r("skylark-langx-objects/base-at",["./objects","./get"],function(r,t){return r.baseAt=function(r,n){let e=-1;const i=n.length,a=new Array(i),o=null==r;for(;++e<i;)a[e]=o?void 0:t(r,n[e]);return a}}),r("skylark-langx-objects/clone",["skylark-langx-types","./objects"],function(r,t){var n=r.isPlainObject,e=r.isArray;return t.clone=function r(t,i){var a;if(void 0===t||null===t)a=t;else if(i&&t.clone)a=t.clone();else if(e(t)){a=[];for(var o=0;o<t.length;o++)a.push(r(t[o]))}else if(n(t))for(var s in a={},t)a[s]=r(t[s]);else a=t;return a}}),r("skylark-langx-objects/defaults",["./objects","./all-keys"],function(r,t){return r.defaults=(n=t,e=!0,function(r){var t=arguments.length;if(e&&(r=Object(r)),t<2||null==r)return r;for(var i=1;i<t;i++)for(var a=arguments[i],o=n(a),s=o.length,u=0;u<s;u++){var f=o[u];e&&void 0!==r[f]||(r[f]=a[f])}return r});var n,e}),r("skylark-langx-objects/each",["./objects"],function(r){return r.each=function(r,t,n){var e,i,a,o;if(r)if(void 0===(e=r.length)){for(i in r)if(r.hasOwnProperty(i)&&(o=r[i],!1===(n?t.call(o,o,i):t.call(o,i,o))))break}else for(a=0;a<e&&(o=r[a],!1!==(n?t.call(o,o,a):t.call(o,a,o)));a++);return this}}),r("skylark-langx-objects/_mixin",["skylark-langx-types","./objects"],function(r,t){var n=r.isPlainObject;return function r(t,e,i,a){for(var o in e)a&&void 0!==t[o]||(i&&n(e[o])?(n(t[o])||(t[o]={}),r(t[o],e[o],i,a)):void 0!==e[o]&&(t[o]=e[o]));return t}}),r("skylark-langx-objects/_parse_mixin_args",["skylark-langx-types","./objects"],function(r,t){var n=Array.prototype.slice,e=r.isBoolean;return function(r){var t=n.call(arguments,0),i=t.shift(),a=!1;e(t[t.length-1])&&(a=t.pop());return{target:i,sources:t,deep:a}}}),r("skylark-langx-objects/mixin",["skylark-langx-types","./objects","./_mixin","./_parse_mixin_args"],function(r,t,n,e){return t.mixin=function(){var r=e.apply(this,arguments);return r.sources.forEach(function(t){n(r.target,t,r.deep,!1)}),r.target}}),r("skylark-langx-objects/extend",["./objects","./mixin"],function(r,t){var n=Array.prototype.slice;return r.extend=function(r){var e,i=n.call(arguments,1);"boolean"==typeof r&&(e=r,r=i.shift());0==i.length&&(i=[r],r=this);return i.forEach(function(n){t(r,n,e)}),r}}),r("skylark-langx-objects/for-each",["./objects","./each"],function(r,t){return r.forEach=function(r,n){if(!r)return;r.forEach?r.forEach(n):t(r,n,!0)}}),r("skylark-langx-objects/has",["skylark-langx-types","./objects"],function(r,t){var n=Object.prototype.hasOwnProperty;return t.has=function(t,e){if(!r.isArray(e))return null!=t&&n.call(t,e);for(var i=e.length,a=0;a<i;a++){var o=e[a];if(null==t||!n.call(t,o))return!1;t=t[o]}return!!i}}),r("skylark-langx-objects/includes",["./objects"],function(r){return r.includes=function(r,t,n,e){r=isArrayLike(r)?r:values(r),n=n&&!e?toInteger(n):0;var i=r.length;n<0&&(n=nativeMax(i+n,0));return isString(r)?n<=i&&r.indexOf(t,n)>-1:!!i&&baseIndexOf(r,t,n)>-1}}),r("skylark-langx-objects/is-equal",["skylark-langx-types","./objects"],function(r,t){var n,e,i=r.isFunction,a="undefined"!=typeof Symbol?Symbol.prototype:null;return n=function(r,t,n,i){if(r===t)return 0!==r||1/r==1/t;if(null==r||null==t)return!1;if(r!=r)return t!=t;var a=typeof r;return("function"===a||"object"===a||"object"==typeof t)&&e(r,t,n,i)},e=function(r,t,e,o){var s=toString.call(r);if(s!==toString.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+r==""+t;case"[object Number]":return+r!=+r?+t!=+t:0==+r?1/+r==1/t:+r==+t;case"[object Date]":case"[object Boolean]":return+r==+t;case"[object Symbol]":return a.valueOf.call(r)===a.valueOf.call(t)}var u="[object Array]"===s;if(!u){if("object"!=typeof r||"object"!=typeof t)return!1;var f=r.constructor,l=t.constructor;if(f!==l&&!(i(f)&&f instanceof f&&i(l)&&l instanceof l)&&"constructor"in r&&"constructor"in t)return!1}e=e||[],o=o||[];for(var c=e.length;c--;)if(e[c]===r)return o[c]===t;if(e.push(r),o.push(t),u){if((c=r.length)!==t.length)return!1;for(;c--;)if(!n(r[c],t[c],e,o))return!1}else{var h,y=Object.keys(r);if(c=y.length,Object.keys(t).length!==c)return!1;for(;c--;)if(h=y[c],void 0===t[h]||!n(r[h],t[h],e,o))return!1}return e.pop(),o.pop(),!0},t.isEqual=function(r,t){return n(r,t)}}),r("skylark-langx-objects/keys",["skylark-langx-types","./objects","./has"],function(r,t,n){return t.keys=function(t){if(!r.isObject(t))return[];var e=[];for(var i in t)n(t,i)&&e.push(i);return e}}),r("skylark-langx-objects/is-match",["skylark-langx-types","./objects","./keys"],function(r,t,n){return t.isMatch=function(r,t){var n=n(t),e=n.length;if(null==r)return!e;for(var i=Object(r),a=0;a<e;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0}}),r("skylark-langx-objects/omit",["./objects","./mixin"],function(r,t){return r.omit=function(r,n,e){if(!r)return null;for(var i=t({},r),a=1;a<arguments.length;a++){var o=arguments[a];o in r&&delete i[o]}return i}}),r("skylark-langx-objects/pick",["./objects"],function(r){return r.pick=function(r,t,n){if(!r)return null;for(var e={},i=1;i<arguments.length;i++){var a=arguments[i];a in r&&(e[a]=r[a])}return e}}),r("skylark-langx-objects/remove-items",["skylark-langx-types","./objects"],function(r,t){return t.removeItem=function(t,n){if(r.isArray(t)){var e=t.indexOf(n);-1!=e&&t.splice(e,1)}else if(r.isPlainObject(t))for(var i in t)if(t[i]==n){delete t[i];break}return this}}),r("skylark-langx-objects/result",["skylark-langx-types","./objects","./to-key","./_cast_path"],function(r,t,n,e){r.isArray;var i=r.isFunction;return t.result=function(r,t,a){let o=-1,s=(t=e(t,r)).length;s||(s=1,r=void 0);for(;++o<s;){let e=null==r?void 0:r[n(t[o])];void 0===e&&(o=s,e=a),r=i(e)?e.call(r):e}return r}}),r("skylark-langx-objects/safe-mixin",["./objects","./_mixin","./_parse_mixin_args"],function(r,t,n){return r.safeMixin=function(){var r=n.apply(this,arguments);return r.sources.forEach(function(n){t(r.target,n,r.deep,!0)}),r.target}}),r("skylark-langx-objects/scall",["./objects"],function(r){const t=Array.prototype.slice;return r.scall=function(r,n,e,i){if(r&&r[n]){var a=t.call(arguments,2);return r[n].apply(r,a)}}}),r("skylark-langx-objects/is-index",["skylark-langx-types","./objects"],function(r,t){const n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;return t.isIndex=function(r,t){const i=typeof r;return!!(t=null==t?n:t)&&("number"===i||"symbol"!==i&&e.test(r))&&r>-1&&r%1==0&&r<t}}),r("skylark-langx-objects/set",["skylark-langx-types","./objects","./_cast_path","./is-index","./to-key"],function(r,t,n,e,i){return t.set=function(t,a,o){return null==t?t:function(t,a,o,s){if(!r.isObject(t))return t;const u=(a=n(a,t)).length,f=u-1;let l=-1,c=t;for(;null!=c&&++l<u;){const t=i(a[l]);let n=o;if(l!=f){const i=c[t];void 0===(n=s?s(i,t,c):void 0)&&(n=r.isObject(i)?i:e(a[l+1])?[]:{})}c[t]=n,c=c[t]}return t}(t,a,o)}}),r("skylark-langx-objects/shadow",["./objects"],function(r){return r.shadow=function(r,t,n){return Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}}),r("skylark-langx-objects/unset",["skylark-langx-types","./objects","./set"],function(r,t,n){return t.unset=function(r,t){return null==r||n(r,t,void 0)}}),r("skylark-langx-objects/values",["skylark-langx-types","./objects","./all-keys"],function(r,t,n){return t.values=function(r){for(var t=n(r),e=t.length,i=Array(e),a=0;a<e;a++)i[a]=r[t[a]];return i}}),r("skylark-langx-objects/main",["./objects","./all-keys","./assign","./base-at","./clone","./defaults","./each","./extend","./for-each","./get","./has","./includes","./is-equal","./is-key","./is-match","./keys","./mixin","./omit","./pick","./remove-items","./result","./safe-mixin","./scall","./set","./shadow","./to-key","./unset","./values"],function(r){return r}),r("skylark-langx-objects",["skylark-langx-objects/main"],function(r){return r}),r("skylark-langx-funcs/funcs",["skylark-langx-ns"],function(r,t,n){return r.attach("langx.funcs",{noop:function(){},returnTrue:function(){return!0},returnFalse:function(){return!1}})}),r("skylark-langx-funcs/rest-arguments",["./funcs"],function(r){return r.restArguments=function(r,t){return t=null==t?r.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),e=Array(n),i=0;i<n;i++)e[i]=arguments[i+t];switch(t){case 0:return r.call(this,e);case 1:return r.call(this,arguments[0],e);case 2:return r.call(this,arguments[0],arguments[1],e)}var a=Array(t+1);for(i=0;i<t;i++)a[i]=arguments[i];return a[t]=e,r.apply(this,a)}}}),r("skylark-langx-funcs/bind-all",["./funcs","./rest-arguments"],function(r,t){return r.bindAll=t(function(r,t){var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var e=t[n];r[e]=r[e].bind(r)}})}),r("skylark-langx-funcs/defer",["skylark-langx-types","./funcs"],function(r,t){return t.defer=function(t,n,e,i){var a={cancel:null},o=t;r.isNumber(n)||r.isFunction(n)||(i=e,e=n,n=0);e&&(o=function(){t.apply(i,e)});if(r.isFunction(n)){var s=!1;n(function(){s||o()}),a.cancel=function(){s=!0}}else{var u;0==n&&requestAnimationFrame?(u=requestAnimationFrame(o),a.cancel=function(){return cancelAnimationFrame(u)}):(u=setTimeout(o,n),a.cancel=function(){return clearTimeout(u)})}return a}}),r("skylark-langx-funcs/debounce",["./funcs","./defer"],function(r,t){return r.debounce=function(r,n,e){var i,a,o=function(){var o=this,u=arguments;return s(),i=setTimeout(function(){i=null,e?a=t(r,u,o):r.apply(o,u)},n),{cancel:s}},s=o.cancel=function(){i&&clearTimeout(i),a&&a.cancel(),i=void 0,a=void 0};return o}}),r("skylark-langx-funcs/delegate",["skylark-langx-objects","./funcs"],function(r,t){var n=r.mixin,e=function(){function r(){}return function(t,e){r.prototype=t;var i=new r;return r.prototype=null,e&&n(i,e),i}}();return t.delegate=e}),r("skylark-langx-funcs/loop",["./funcs"],function(r){function t(r){this.callback=r,this.running=!1,this.id=-1}return t.prototype.start=function(){if(!this.running){this.running=!0;var r=this;!function t(){r.callback();r.running&&(r.id=requestAnimationFrame(t))}()}},t.prototype.stop=function(){this.running=!1,cancelAnimationFrame(this.id)},r.loop=function(r){return new t(r)}}),r("skylark-langx-funcs/negate",["./funcs"],function(r){return r.negate=function(r){if("function"!=typeof r)throw new TypeError("Expected a function");return function(...t){return!r.apply(this,t)}}}),r("skylark-langx-funcs/proxy",["skylark-langx-types","./funcs"],function(r,t){var n=Array.prototype.slice,e=r.isFunction,i=r.isString;return t.bind=t.proxy=function r(t,a){var o=2 in arguments&&n.call(arguments,2);if(e(t)){return function(){return t.apply(a,o?o.concat(n.call(arguments)):arguments)}}if(i(a))return o?(o.unshift(t[a],t),r.apply(null,o)):r(t[a],t);throw new TypeError("expected function")}}),r("skylark-langx-funcs/template",["skylark-langx-objects","./funcs","./proxy"],function(r,t,n){Array.prototype.slice;var e={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},i=/(.)^/,a={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},o=/\\|'|\r|\n|\t|\u2028|\u2029/g;function s(t,s,u){var f;u=r.defaults({},u,e);var l=RegExp([(u.escape||i).source,(u.interpolate||i).source,(u.evaluate||i).source].join("|")+"|$","g"),c=0,h="__p+='";t.replace(l,function(r,n,e,i,s){return h+=t.slice(c,s).replace(o,function(r){return"\\"+a[r]}),n&&(h+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),e&&(h+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),i&&(h+="';\n"+i+"\n__p+='"),c=s+r.length,r}),h+="';\n",u.variable||(h="with(obj||{}){\n"+h+"}\n"),h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{f=new Function(u.variable||"obj","_",h)}catch(r){throw r.source=h,r}if(s)return f(s,this);var y=n(function(r){return f.call(this,r,this)},this),p=u.variable||"obj";return y.source="function("+p+"){\n"+h+"}",y}return s.templateSettings=t.templateSettings=e,t.template=s}),r("skylark-langx-funcs/throttle",["./funcs"],function(r){return r.throttle=function(r,t){let n=window.performance.now();return function(...e){const i=window.performance.now();i-n>=t&&(r(...e),n=i)}}}),r("skylark-langx-funcs/main",["./funcs","./bind-all","./debounce","./defer","./delegate","./loop","./negate","./proxy","./rest-arguments","./template","./throttle"],function(r){return r}),r("skylark-langx-funcs",["skylark-langx-funcs/main"],function(r){return r}),r("skylark-langx-constructs/constructs",["skylark-langx-ns"],function(r){return r.attach("langx.constructs",{})}),r("skylark-langx-constructs/inherit",["./constructs"],function(r){return r.inherit=function(r,t){if("function"!=typeof t&&t)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Object.setPrototypeOf(r,t)}}),r("skylark-langx-arrays/arrays",["skylark-langx-ns"],function(r){return r.attach("langx.arrays")}),r("skylark-langx-arrays/base-find-index",["./arrays"],function(r){return r.baseFindIndex=function(r,t,n,e){var i=r.length,a=n+(e?1:-1);for(;e?a--:++a<i;)if(t(r[a],a,r))return a;return-1}}),r("skylark-langx-arrays/base-indexof",["./arrays","./base-find-index"],function(r,t){function n(r){return r!=r}return r.baseIndexOf=function(r,e,i){if(e!=e)return t(r,n,i);var a=i-1,o=r.length;for(;++a<o;)if(r[a]===e)return a;return-1}}),r("skylark-langx-arrays/filter",["./arrays"],function(r){var t=Array.prototype.filter;return r.filter=function(r,n){return t.call(r,n)}}),r("skylark-langx-arrays/compact",["./arrays","./filter"],function(r,t){return r.compact=function(r){return t(r,function(r){return null!=r})}}),r("skylark-langx-arrays/in-array",["./arrays"],function(r){return r.inArray=function(r,t){if(!t)return-1;var n;if(t.indexOf)return t.indexOf(r);n=t.length;for(;n--;)if(t[n]===r)return n;return-1}}),r("skylark-langx-arrays/contains",["./arrays","./in-array"],function(r,t){return r.contains=function(r,n){return t(n,r)}}),r("skylark-langx-arrays/flatten",["skylark-langx-types","./arrays"],function(r,t){return t.flatten=function(t){if(r.isArrayLike(t)){for(var n=[],e=0;e<t.length;e++){var i=t[e];if(r.isArrayLike(i))for(var a=0;a<i.length;a++)n.push(i[a]);else n.push(i)}return n}return t}}),r("skylark-langx-arrays/difference",["skylark-langx-funcs","./arrays","./flatten","./filter","./contains"],function(r,t,n,e,i){var a=r.restArguments(function(r,t){return t=n(t,!0,!0),e(r,function(r){return!i(t,r)})});return t.difference=a}),r("skylark-langx-arrays/find",["./arrays"],function(r){var t=Array.prototype.find;return r.find=function(r,n){return t.call(r,n)}}),r("skylark-langx-arrays/first",["./arrays"],function(r){return r.first=function(r,t){return t?r.slice(0,t):r[0]}}),r("skylark-langx-arrays/grep",["skylark-langx-objects","./arrays"],function(r,t){return t.grep=function(t,n){var e=[];return r.each(t,function(r,t){n(t,r)&&e.push(t)}),e}}),r("skylark-langx-arrays/indexof",["./arrays"],function(r){return r.indexOf=function(r,t){return r.indexOf(t)}}),r("skylark-langx-arrays/last",["./arrays"],function(r){return r.last=function(r){return r[r.length-1]}}),r("skylark-langx-arrays/make-array",["skylark-langx-types","./arrays"],function(r,t){return t.makeArray=function(t,n,e){if(r.isArrayLike(t))return(e||[]).concat(Array.prototype.slice.call(t,n||0));return[t]}}),r("skylark-langx-arrays/map",["skylark-langx-types","./arrays","./flatten"],function(r,t,n){return t.map=function(t,e){var i,a,o,s=[];if(r.isArrayLike(t))for(a=0;a<t.length;a++)null!=(i=e.call(t[a],t[a],a))&&s.push(i);else for(o in t)null!=(i=e.call(t[o],t[o],o))&&s.push(i);return n(s)}}),r("skylark-langx-arrays/merge",["./arrays"],function(r){return r.merge=function(r,t){var n=t.length,e=r.length,i=0;if("number"==typeof n)for(;i<n;i++)r[e++]=t[i];else for(;void 0!==t[i];)r[e++]=t[i++];return r.length=e,r}}),r("skylark-langx-arrays/pull-at",["skylark-langx-types","skylark-langx-objects","./arrays"],function(r,t,n){return n.pullAt=function(r,...n){null==r||r.length;const e=t.baseAt(r,n);n.sort(function(r,t){return r-t});for(let t=n.length-1;t>=0;t--)r.slice(n[t],1);return e}}),r("skylark-langx-arrays/reduce",["./arrays"],function(r){return r.reduce=function(r,t,n){return Array.prototype.reduce.call(r,t,n)}}),r("skylark-langx-arrays/uniq",["./arrays","./filter"],function(r,t){return r.uniq=function(r){return t(r,function(t,n){return r.indexOf(t)==n})}}),r("skylark-langx-arrays/without",["skylark-langx-funcs","./arrays","./difference"],function(r,t,n){var e=r.restArguments(function(r,t){return n(r,t)});return t.without=e}),r("skylark-langx-arrays/main",["./arrays","./base-find-index","./base-indexof","./compact","./contains","./difference","./filter","./find","./first","./flatten","./grep","./in-array","./indexof","./last","./make-array","./map","./merge","./pull-at","./reduce","./uniq","./without"],function(r){return r}),r("skylark-langx-arrays",["skylark-langx-arrays/main"],function(r){return r}),r("skylark-langx-constructs/klass",["skylark-langx-ns","skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","./constructs","./inherit"],function(r,t,n,e,i,a){var o=e.uniq,s=n.has,u=n.mixin,f=t.isArray,l=t.isDefined,c=function(){function r(){return this._construct?this._construct.apply(this,arguments):this.init?this.init.apply(this,arguments):void 0}return function n(e,i,c,h){f(i)&&(h=c,c=i,i=null),i=i||Object,l(c)&&!f(c)&&(h=c,c=!1);var y=i;c&&(c=function(r,t){var n=[];return t.forEach(function(r){if(s(r,"__mixins__"))throw new Error("nested mixins");for(var t=[];r;)t.unshift(r),r=r.superclass;n=n.concat(t)}),(n=(n=o(n)).filter(function(t){for(var n=r;n;){if(t===n)return!1;if(s(n,"__mixins__"))for(var e=n.__mixins__,i=0;i<e.length;i++)if(e[i]===t)return!1;n=n.superclass}return!0})).length>0&&n}(y,c)),c&&(y=function(r,t){for(var n=r,e=0;e<t.length;e++){var i=new Function;a(i,n),i.superclass=null,u(i.prototype,t[e].prototype),i.prototype.__mixin__=t[e],n=i}return n}(y,c));var p=e.klassName||"",g=new Function("return function "+p+"() {var inst = this, ctor = arguments.callee;if (!(inst instanceof ctor)) {inst = Object.create(ctor.prototype);}return ctor._constructor.apply(inst, arguments) || inst;}")();return a(g,y),g.superclass=i,g._constructor||(g._constructor=r),c&&(g.__mixins__=c),g.partial||(g.partial=function(r,n){return function(r,n,e){var i=r.prototype,a=r.superclass.prototype,o=e&&e.noOverrided;e&&e.overrides;for(var s in n)if("constructor"!==s){var u=n[s];"function"==typeof n[s]?i[s]=u._constructor||o||"function"!=typeof a[s]?u:function(r,t,n){return function(){var r=this.overrided;this.overrided=n;var e=t.apply(this,arguments);return this.overrided=r,e}}(0,u,a[s]):t.isPlainObject(u)&&null!==u&&u.get?Object.defineProperty(i,s,u):i[s]=u}return r}(this,r,n)}),g.inherit||(g.inherit=function(r,t,e){return n(r,this,t,e)}),g.partial(e,h),g}}();return i.klass=c}),r("skylark-langx-constructs/main",["./constructs","./inherit","./klass"],function(r){return r}),r("skylark-langx-constructs",["skylark-langx-constructs/main"],function(r){return r}),r("skylark-langx-klass/klass",["skylark-langx-ns","skylark-langx-constructs"],function(r,t){return r.attach("langx.klass",t.klass)}),r("skylark-langx-klass/main",["./klass"],function(r){return r}),r("skylark-langx-klass",["skylark-langx-klass/main"],function(r){return r}),r("skylark-langx-hoster/hoster",["skylark-langx-ns"],function(r){var t={isBrowser:!0,isNode:null,global:this,browser:null,node:null};"object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8&&(t.isNode=!0,t.isBrowser=!1),t.global=function(){return"undefined"!=typeof global&&"function"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}();var n=null;if(Object.defineProperty(t,"document",function(){if(!n){var r="undefined"==typeof window?require("html-element"):window;n=r.document}return n}),void 0===t.global.CustomEvent&&(t.global.CustomEvent=function(r,t){this.type=r,this.props=t}),t.isBrowser){var e=function(r){r=r.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(r)||/(webkit)[ \/]([\w.]+)/.exec(r)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(r)||[];return{browser:t[1]||"",version:t[2]||"0"}}(navigator.userAgent),i=t.browser={};e.browser&&(i[e.browser]=!0,i.version=e.version),i.chrome?i.webkit=!0:i.webkit&&(i.safari=!0)}return t.detects={},r.attach("langx.hoster",t)}),r("skylark-langx-hoster/detects/mobile",["../hoster"],function(r){var t=/iPhone/i,n=/iPod/i,e=/iPad/i,i=/\biOS-universal(?:.+)Mac\b/i,a=/\bAndroid(?:.+)Mobile\b/i,o=/Android/i,s=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,u=/Silk/i,f=/Windows Phone/i,l=/\bWindows(?:.+)ARM\b/i,c=/BlackBerry/i,h=/BB10/i,y=/Opera Mini/i,p=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i,d=function(r){return void 0!==r&&"MacIntel"===r.platform&&"number"==typeof r.maxTouchPoints&&r.maxTouchPoints>1&&"undefined"==typeof MSStream};return r.detects.mobile=function(r){var k={userAgent:"",platform:"",maxTouchPoints:0};r||"undefined"==typeof navigator?"string"==typeof r?k.userAgent=r:r&&r.userAgent&&(k={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0}):k={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var v=k.userAgent,b=v.split("[FBAN");void 0!==b[1]&&(v=b[0]);void 0!==(b=v.split("Twitter"))[1]&&(v=b[0]);var m=function(r){return function(t){return t.test(r)}}(v),x={apple:{phone:m(t)&&!m(f),ipod:m(n),tablet:!m(t)&&(m(e)||d(k))&&!m(f),universal:m(i),device:(m(t)||m(n)||m(e)||m(i)||d(k))&&!m(f)},amazon:{phone:m(s),tablet:!m(s)&&m(u),device:m(s)||m(u)},android:{phone:!m(f)&&m(s)||!m(f)&&m(a),tablet:!m(f)&&!m(s)&&!m(a)&&(m(u)||m(o)),device:!m(f)&&(m(s)||m(u)||m(a)||m(o))||m(/\bokhttp\b/i)},windows:{phone:m(f),tablet:m(l),device:m(f)||m(l)},other:{blackberry:m(c),blackberry10:m(h),opera:m(y),firefox:m(g),chrome:m(p),device:m(c)||m(h)||m(y)||m(g)||m(p)},any:!1,phone:!1,tablet:!1};return x.any=x.apple.device||x.android.device||x.windows.device||x.other.device,x.phone=x.apple.phone||x.android.phone||x.windows.phone,x.tablet=x.apple.tablet||x.android.tablet||x.windows.tablet,x}}),r("skylark-langx-hoster/is-mobile",["./hoster","./detects/mobile"],function(r,t){return void 0==r.isMobile&&(r.isMobile=t()),r.isMobile}),r("skylark-langx-hoster/main",["./hoster","./is-mobile"],function(r){return r}),r("skylark-langx-hoster",["skylark-langx-hoster/main"],function(r){return r}),r("skylark-langx-events/event",["skylark-langx-objects","skylark-langx-funcs","skylark-langx-klass","skylark-langx-hoster","./events"],function(r,t,n,e){var i={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function a(n,e){return!e&&n.isDefaultPrevented||(e||(e=n),r.each(i,function(r,i){var a=e[r];n[r]=function(){return this[i]=t.returnTrue,a&&a.apply(e,arguments)},n[i]=t.returnFalse})),n}class o extends CustomEvent{constructor(t,n){super(t,n),r.safeMixin(this,n),a(this)}}return o.compatible=a,e.Event=o}),r("skylark-langx-events/listener",["skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","skylark-langx-klass","./events","./event"],function(r,t,n,e,i,a){Array.prototype.slice;var o=n.compact,s=(r.isDefined,r.isUndefined),u=(r.isPlainObject,r.isFunction,r.isBoolean),f=r.isString,l=r.isEmptyObject,c=(t.mixin,t.safeMixin,e({listenTo:function(t,n,e,i,a){if(!t)return this;if(r.isPlainObject(n)){r.isBoolean(e)?(a=e,e=null):r.isBoolean(i)&&(a=i);var o=n;for(var l in o){var c=l.match(/^([\w:-]*)\s*(.*)$/),h=c[1],y=c[2]||e;y?this.listenTo(t,h,y,o[l],a):this.listenTo(t,h,o[l],a)}return this}u(i)?(a=i,i=e,e=null):u(e)?(a=e,i=e=null):s(i)&&(a=!1,i=e,e=null),i||(i="handleEvent"),f(i)&&(i=this[i]);var p=this.ensureListenedEmitter(t);a?e?p.one(n,e,i,this):p.one(n,i,this):e?p.on(n,e,i,this):p.on(n,i,this);for(var g,d=this._listeningTo||(this._listeningTo=[]),k=0;k<d.length;k++)if(d[k].obj==t){g=d[k];break}g||d.push(g={obj:t,events:{}});var v=g.events,b=v[n]=v[n]||[];return-1==b.indexOf(i)&&b.push(i),this},listenToOnce:function(r,t,n,e){return this.listenTo(r,t,n,e,1)},unlistenTo:function(r,t,n){var e=this._listeningTo;if(!e)return this;f(n)&&(n=this[n]);for(var i=0;i<e.length;i++){var a=e[i];if(!r||r==a.obj){var s=a.events;for(var u in s)if(!t||t==u){var c=s[u];if(c){for(var h=0;h<c.length;h++)if(!n||n==c[i]){let r=this.ensureListenedEmitter(a.obj);r.off(u,c[i],this),c[i]=null}c=s[u]=o(c),l(c)&&(s[u]=null)}}l(s)&&(e[i]=null)}}return e=this._listeningTo=o(e),l(e)&&(this._listeningTo=null),this},ensureListenedEmitter:function(r){return r}}));return i.Listener=c}),r("skylark-langx-events/emitter",["skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","skylark-langx-klass","./events","./event","./listener"],function(r,t,n,e,i,a,o){var s=Array.prototype.slice,u=n.compact,f=r.isDefined,l=r.isPlainObject,c=r.isFunction,h=r.isString,y=(r.isEmptyObject,t.mixin);t.safeMixin;function p(r){var t=(""+r).split(".");return{name:t[0],ns:t.slice(1).join(" ")}}var g=new Map,d=o.inherit({_prepareArgs:function(r,t){return t=f(t)?[r].concat(t):[r]},on:function(r,t,n,e,i,a){var o=this,s=this._hub||(this._hub={});if(l(r))return i=e,each(r,function(r,e){o.on(r,t,n,e,i,a)}),this;if(h(t)||c(e)||(i=e,e=n,n=t,t=void 0),c(n)&&(i=e,e=n,n=null),!e)throw new Error("No callback function");if(!c(e))throw new Error("The callback  is not afunction");return h(r)&&(r=r.split(/\s/)),r.forEach(function(r){var o=p(r),u=o.name,f=o.ns;(s[u]||(s[u]=[])).push({fn:e,selector:t,data:n,ctx:i,ns:f,one:a})}),this},one:function(r,t,n,e,i){return this.on(r,t,n,e,i,1)},emit:function(r){if(!this._hub)return this;var t=this;h(r)&&(r=new a(r)),Object.defineProperty(r,"target",{value:this});var n=s.call(arguments,1);return n=this._prepareArgs(r,n),[r.type||r.name,"all"].forEach(function(e){var i=p(e),a=i.name,o=i.ns,s=t._hub[a];if(s){for(var f=s.length,c=!1,h=0;h<f;h++){if(r.isImmediatePropagationStopped&&r.isImmediatePropagationStopped())return this;var g=s[h];(!o||g.ns&&g.ns.startsWith(o))&&(g.data&&(r.data=y({},g.data,r.data)),2==n.length&&l(n[1])&&(r.data=r.data||{},y(r.data,n[1])),g.fn.apply(g.ctx,n),g.one&&(s[h]=null,c=!0))}c&&(t._hub[e]=u(s))}}),this},queueEmit:function(r){const t=r.type||r;let n=g.get(this);n||(n=new Map,g.set(this,n));const e=n.get(t);n.delete(t),window.clearTimeout(e);const i=window.setTimeout(()=>{0===n.size&&(n=null,g.delete(this)),this.trigger(r)},0);n.set(t,i)},listened:function(r){var t=(this._hub||(this._events={}))[r]||[];return t.length>0},off:function(r,t){if(r){var n=this._hub||(this._hub={});return h(r)&&(r=r.split(/\s/)),r.forEach(function(r){var e=p(r),i=e.name,a=e.ns,o=n[i];if(o){var s=[];if(t||a)for(var u=0,f=o.length;u<f;u++)t&&o[u].fn!==t&&o[u].fn._!==t?s.push(o[u]):!a||o[u].ns&&0==o[u].ns.indexOf(a)||s.push(o[u]);s.length?n[i]=s:delete n[i]}}),this}this._hub=null},trigger:function(){return this.emit.apply(this,arguments)},queueTrigger:function(r){return this.queueEmit.apply(this,arguments)}});return i.Emitter=d}),r("skylark-langx-events/create-event",["./events","./event"],function(r,t){return r.createEvent=function(r,n){return new t(r,n)}}),r("skylark-langx-events/main",["./events","./event","./listener","./emitter","./create-event"],function(r){return r}),r("skylark-langx-events",["skylark-langx-events/main"],function(r){return r}),r("skylark-langx-binary/binary",["skylark-langx-ns"],function(r){"use strict";return r.attach("langx.binary",{fromBase64:function(r){for(var t,n,e,i,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=r.length/4*3,s=new ArrayBuffer(o),u=new Uint8Array(s),f=0,l=0;f<o;f+=3)t=a.indexOf(r.charAt(l++)),n=a.indexOf(r.charAt(l++)),e=a.indexOf(r.charAt(l++)),i=a.indexOf(r.charAt(l++)),u[f]=t<<2|n>>4,64!==e&&(u[f+1]=(15&n)<<4|e>>2),64!==i&&(u[f+2]=(3&e)<<6|i);return s},fromBinaryString:function(r){for(var t=r.length,n=new ArrayBuffer(t),e=new Uint8Array(n),i=0;i<t;i++)e[i]=r.charCodeAt(i);return n},fromBuffer:function(r){for(var t=new ArrayBuffer(r.length),n=new Uint8Array(t),e=0;e<r.length;e++)n[e]=r[e];return t},readInt8:function(r,t){return r[t]<<24>>24},readUint16:function(r,t){return r[t]<<8|r[t+1]},readUint32:function(r,t){return(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3])>>>0}})}),r("skylark-langx-binary/base64",[],function(){"use strict";for(var exports={byteLength:function(r){var t=o(r),n=t[0],e=t[1];return 3*(n+e)/4-e},toByteArray:function(r){var e,i,a=o(r),s=a[0],u=a[1],f=new n(function(r,t,n){return 3*(t+n)/4-n}(0,s,u)),l=0,c=u>0?s-4:s;for(i=0;i<c;i+=4)e=t[r.charCodeAt(i)]<<18|t[r.charCodeAt(i+1)]<<12|t[r.charCodeAt(i+2)]<<6|t[r.charCodeAt(i+3)],f[l++]=e>>16&255,f[l++]=e>>8&255,f[l++]=255&e;2===u&&(e=t[r.charCodeAt(i)]<<2|t[r.charCodeAt(i+1)]>>4,f[l++]=255&e);1===u&&(e=t[r.charCodeAt(i)]<<10|t[r.charCodeAt(i+1)]<<4|t[r.charCodeAt(i+2)]>>2,f[l++]=e>>8&255,f[l++]=255&e);return f},fromByteArray:function(t){for(var n,e=t.length,i=e%3,a=[],o=0,u=e-i;o<u;o+=16383)a.push(s(t,o,o+16383>u?u:o+16383));1===i?(n=t[e-1],a.push(r[n>>2]+r[n<<4&63]+"==")):2===i&&(n=(t[e-2]<<8)+t[e-1],a.push(r[n>>10]+r[n>>4&63]+r[n<<2&63]+"="));return a.join("")}},r=[],t=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=e.length;i<a;++i)r[i]=e[i],t[e.charCodeAt(i)]=i;function o(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=r.indexOf("=");-1===n&&(n=t);var e=n===t?0:4-n%4;return[n,e]}function s(t,n,e){for(var i,a,o=[],s=n;s<e;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}return t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63,exports}),r("skylark-langx-binary/ieee754",[],function(){"use strict";var exports={read:function(r,t,n,e,i){var a,o,s=8*i-e-1,u=(1<<s)-1,f=u>>1,l=-7,c=n?i-1:0,h=n?-1:1,y=r[t+c];for(c+=h,a=y&(1<<-l)-1,y>>=-l,l+=s;l>0;a=256*a+r[t+c],c+=h,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=e;l>0;o=256*o+r[t+c],c+=h,l-=8);if(0===a)a=1-f;else{if(a===u)return o?NaN:1/0*(y?-1:1);o+=Math.pow(2,e),a-=f}return(y?-1:1)*o*Math.pow(2,a-e)},write:function(r,t,n,e,i,a){var o,s,u,f=8*a-i-1,l=(1<<f)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,y=e?0:a-1,p=e?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+c>=1?h/u:h*Math.pow(2,1-c))*u>=2&&(o++,u/=2),o+c>=l?(s=0,o=l):o+c>=1?(s=(t*u-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;r[n+y]=255&s,y+=p,s/=256,i-=8);for(o=o<<i|s,f+=i;f>0;r[n+y]=255&o,y+=p,o/=256,f-=8);r[n+y-p]|=128*g}};return exports}),r("skylark-langx-binary/memory",["./binary","./base64","./ieee754"],function(r,t,n){"use strict";a.INSPECT_MAX_BYTES=50;var e=2147483647;function i(r){if(r>e)throw new RangeError("Invalid typed array length");var t=new Uint8Array(r);return t.__proto__=a.prototype,t}function a(r,t,n){if("number"==typeof r){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(r)}return o(r,t,n)}function o(r,t,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return N(r)||r&&N(r.buffer)?function(r,t,n){if(t<0||r.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var e;e=void 0===t&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,t):new Uint8Array(r,t,n);return e.__proto__=a.prototype,e}(r,t,n):"string"==typeof r?function(r,t){"string"==typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|c(r,t),e=i(n),o=e.write(r,t);o!==n&&(e=e.slice(0,o));return e}(r,t):function(r){if(a.isBuffer(r)){var t=0|l(r.length),n=i(t);return 0===n.length?n:(r.copy(n,0,0,t),n)}if(r){if(ArrayBuffer.isView(r)||"length"in r)return"number"!=typeof r.length||D(r.length)?i(0):f(r);if("Memory"===r.type&&Array.isArray(r.data))return f(r.data)}throw new TypeError("The first argument must be one of type string, Memory, ArrayBuffer, Array, or Array-like Object.")}(r)}function s(r){if("number"!=typeof r)throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('"size" argument must not be negative')}function u(r){return s(r),i(r<0?0:0|l(r))}function f(r){for(var t=r.length<0?0:0|l(r.length),n=i(t),e=0;e<t;e+=1)n[e]=255&r[e];return n}function l(r){if(r>=e)throw new RangeError("Attempt to allocate Memory larger than maximum size: 0x"+e.toString(16)+" bytes");return 0|r}function c(r,t){if(a.isMemory(r))return r.length;if(ArrayBuffer.isView(r)||N(r))return r.byteLength;"string"!=typeof r&&(r=""+r);var n=r.length;if(0===n)return 0;for(var e=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return P(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return L(r).length;default:if(e)return P(r).length;t=(""+t).toLowerCase(),e=!0}}function h(r,t,n){var e=r[t];r[t]=r[n],r[n]=e}function y(r,t,n,e,i){if(0===r.length)return-1;if("string"==typeof n?(e=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),D(n=+n)&&(n=i?0:r.length-1),n<0&&(n=r.length+n),n>=r.length){if(i)return-1;n=r.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,e)),a.isMemory(t))return 0===t.length?-1:p(r,t,n,e,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(r,t,n):Uint8Array.prototype.lastIndexOf.call(r,t,n):p(r,[t],n,e,i);throw new TypeError("val must be string, number or Memory")}function p(r,t,n,e,i){var a,o=1,s=r.length,u=t.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(r.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function f(r,t){return 1===o?r[t]:r.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<s;a++)if(f(r,a)===f(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var c=!0,h=0;h<u;h++)if(f(r,a+h)!==f(t,h)){c=!1;break}if(c)return a}return-1}function g(r,t,n,e){n=Number(n)||0;var i=r.length-n;e?(e=Number(e))>i&&(e=i):e=i;var a=t.length;e>a/2&&(e=a/2);for(var o=0;o<e;++o){var s=parseInt(t.substr(2*o,2),16);if(D(s))return o;r[n+o]=s}return o}function d(r,t,n,e){return R(P(t,r.length-n),r,n,e)}function k(r,t,n,e){return R(function(r){for(var t=[],n=0;n<r.length;++n)t.push(255&r.charCodeAt(n));return t}(t),r,n,e)}function v(r,t,n,e){return k(r,t,n,e)}function b(r,t,n,e){return R(L(t),r,n,e)}function m(r,t,n,e){return R(function(r,t){for(var n,e,i,a=[],o=0;o<r.length&&!((t-=2)<0);++o)n=r.charCodeAt(o),e=n>>8,i=n%256,a.push(i),a.push(e);return a}(t,r.length-n),r,n,e)}function x(r,n,e){return 0===n&&e===r.length?t.fromByteArray(r):t.fromByteArray(r.slice(n,e))}function w(r,t,n){n=Math.min(r.length,n);for(var e=[],i=t;i<n;){var a,o,s,u,f=r[i],l=null,c=f>239?4:f>223?3:f>191?2:1;if(i+c<=n)switch(c){case 1:f<128&&(l=f);break;case 2:128==(192&(a=r[i+1]))&&(u=(31&f)<<6|63&a)>127&&(l=u);break;case 3:a=r[i+1],o=r[i+2],128==(192&a)&&128==(192&o)&&(u=(15&f)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:a=r[i+1],o=r[i+2],s=r[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&f)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,c=1):l>65535&&(l-=65536,e.push(l>>>10&1023|55296),l=56320|1023&l),e.push(l),i+=c}return function(r){var t=r.length;if(t<=A)return String.fromCharCode.apply(String,r);var n="",e=0;for(;e<t;)n+=String.fromCharCode.apply(String,r.slice(e,e+=A));return n}(e)}a.kMaxLength=e,a.TYPED_ARRAY_SUPPORT=function(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===r.foo()}catch(r){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{get:function(){if(this instanceof a)return this.buffer}}),Object.defineProperty(a.prototype,"offset",{get:function(){if(this instanceof a)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(r,t,n){return o(r,t,n)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(r,t,n){return function(r,t,n){if(s(r),r<=0)return i(r);if(void 0!==t)return"string"==typeof n?i(r).fill(t,n):i(r).fill(t);return i(r)}(r,t,n)},a.allocUnsafe=function(r){return u(r)},a.allocUnsafeSlow=function(r){return u(r)},a.isMemory=a.isBuffer=function(r){return null!=r&&!0===r._isBuffer},a.compare=function(r,t){if(!a.isMemory(r)||!a.isMemory(t))throw new TypeError("Arguments must be Buffers");if(r===t)return 0;for(var n=r.length,e=t.length,i=0,o=Math.min(n,e);i<o;++i)if(r[i]!==t[i]){n=r[i],e=t[i];break}return n<e?-1:e<n?1:0},a.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var e=a.allocUnsafe(t),i=0;for(n=0;n<r.length;++n){var o=r[n];if(ArrayBuffer.isView(o)&&(o=a.from(o)),!a.isMemory(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(e,i),i+=o.length}return e},a.byteLength=c,a.toArrayBuffer=function(r){for(var t=new ArrayBuffer(r.length),n=new Uint8Array(t),e=0;e<r.length;e++)n[e]=r[e];return t},a.prototype._isMemory=!0,a.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Memory size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)h(this,t,t+1);return this},a.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Memory size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},a.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Memory size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},a.prototype.toString=function(){var r=this.length;return 0===r?"":0===arguments.length?w(this,0,r):function(r,t,n){var e=!1;(void 0===t||t<0)&&(t=0);if(t>this.length)return"";(void 0===n||n>this.length)&&(n=this.length);if(n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";r||(r="utf8");for(;;)switch(r){case"hex":return E(this,t,n);case"utf8":case"utf-8":return w(this,t,n);case"ascii":return j(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(e)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),e=!0}}.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(r){if(!a.isMemory(r))throw new TypeError("Argument must be a Memory");return this===r||0===a.compare(this,r)},a.prototype.inspect=function(){var r="",t=a.INSPECT_MAX_BYTES;return this.length>0&&(r=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(r+=" ... ")),"<Memory "+r+">"},a.prototype.compare=function(r,t,n,e,i){if(!a.isMemory(r))throw new TypeError("Argument must be a Memory");if(void 0===t&&(t=0),void 0===n&&(n=r?r.length:0),void 0===e&&(e=0),void 0===i&&(i=this.length),t<0||n>r.length||e<0||i>this.length)throw new RangeError("out of range index");if(e>=i&&t>=n)return 0;if(e>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,e>>>=0,i>>>=0,this===r)return 0;for(var o=i-e,s=n-t,u=Math.min(o,s),f=this.slice(e,i),l=r.slice(t,n),c=0;c<u;++c)if(f[c]!==l[c]){o=f[c],s=l[c];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(r,t,n){return-1!==this.indexOf(r,t,n)},a.prototype.indexOf=function(r,t,n){return y(this,r,t,n,!0)},a.prototype.lastIndexOf=function(r,t,n){return y(this,r,t,n,!1)},a.prototype.write=function(r,t,n,e){if(void 0===t)e="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)e=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Memory.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===e&&(e="utf8")):(e=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");e||(e="utf8");for(var a=!1;;)switch(e){case"hex":return g(this,r,t,n);case"utf8":case"utf-8":return d(this,r,t,n);case"ascii":return k(this,r,t,n);case"latin1":case"binary":return v(this,r,t,n);case"base64":return b(this,r,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,r,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Memory",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function j(r,t,n){var e="";n=Math.min(r.length,n);for(var i=t;i<n;++i)e+=String.fromCharCode(127&r[i]);return e}function _(r,t,n){var e="";n=Math.min(r.length,n);for(var i=t;i<n;++i)e+=String.fromCharCode(r[i]);return e}function E(r,t,n){var e=r.length;(!t||t<0)&&(t=0),(!n||n<0||n>e)&&(n=e);for(var i="",a=t;a<n;++a)i+=U(r[a]);return i}function O(r,t,n){for(var e=r.slice(t,n),i="",a=0;a<e.length;a+=2)i+=String.fromCharCode(e[a]+256*e[a+1]);return i}function S(r,t,n){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(r,t,n,e,i,o){if(!a.isMemory(r))throw new TypeError('"buffer" argument must be a Memory instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+e>r.length)throw new RangeError("Index out of range")}function C(r,t,n,e,i,a){if(n+e>r.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(r,t,e,i,a){return t=+t,e>>>=0,a||C(r,t,e,4,3.4028234663852886e38,-3.4028234663852886e38),n.write(r,t,e,i,23,4),e+4}function I(r,t,e,i,a){return t=+t,e>>>=0,a||C(r,t,e,8,1.7976931348623157e308,-1.7976931348623157e308),n.write(r,t,e,i,52,8),e+8}a.prototype.slice=function(r,t){var n=this.length;r=~~r,t=void 0===t?n:~~t,r<0?(r+=n)<0&&(r=0):r>n&&(r=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<r&&(t=r);var e=this.subarray(r,t);return e.__proto__=a.prototype,e},a.prototype.readUIntLE=function(r,t,n){r>>>=0,t>>>=0,n||S(r,t,this.length);for(var e=this[r],i=1,a=0;++a<t&&(i*=256);)e+=this[r+a]*i;return e},a.prototype.readUIntBE=function(r,t,n){r>>>=0,t>>>=0,n||S(r,t,this.length);for(var e=this[r+--t],i=1;t>0&&(i*=256);)e+=this[r+--t]*i;return e},a.prototype.readUInt8=function(r,t){return r>>>=0,t||S(r,1,this.length),this[r]},a.prototype.readUInt16LE=function(r,t){return r>>>=0,t||S(r,2,this.length),this[r]|this[r+1]<<8},a.prototype.readUInt16BE=function(r,t){return r>>>=0,t||S(r,2,this.length),this[r]<<8|this[r+1]},a.prototype.readUInt32LE=function(r,t){return r>>>=0,t||S(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},a.prototype.readUInt32BE=function(r,t){return r>>>=0,t||S(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},a.prototype.readIntLE=function(r,t,n){r>>>=0,t>>>=0,n||S(r,t,this.length);for(var e=this[r],i=1,a=0;++a<t&&(i*=256);)e+=this[r+a]*i;return e>=(i*=128)&&(e-=Math.pow(2,8*t)),e},a.prototype.readIntBE=function(r,t,n){r>>>=0,t>>>=0,n||S(r,t,this.length);for(var e=t,i=1,a=this[r+--e];e>0&&(i*=256);)a+=this[r+--e]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(r,t){return r>>>=0,t||S(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},a.prototype.readInt16LE=function(r,t){r>>>=0,t||S(r,2,this.length);var n=this[r]|this[r+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(r,t){r>>>=0,t||S(r,2,this.length);var n=this[r+1]|this[r]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(r,t){return r>>>=0,t||S(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},a.prototype.readInt32BE=function(r,t){return r>>>=0,t||S(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},a.prototype.readFloatLE=function(r,t){return r>>>=0,t||S(r,4,this.length),n.read(this,r,!0,23,4)},a.prototype.readFloatBE=function(r,t){return r>>>=0,t||S(r,4,this.length),n.read(this,r,!1,23,4)},a.prototype.readDoubleLE=function(r,t){return r>>>=0,t||S(r,8,this.length),n.read(this,r,!0,52,8)},a.prototype.readDoubleBE=function(r,t){return r>>>=0,t||S(r,8,this.length),n.read(this,r,!1,52,8)},a.prototype.writeUIntLE=function(r,t,n,e){if(r=+r,t>>>=0,n>>>=0,!e){var i=Math.pow(2,8*n)-1;M(this,r,t,n,i,0)}var a=1,o=0;for(this[t]=255&r;++o<n&&(a*=256);)this[t+o]=r/a&255;return t+n},a.prototype.writeUIntBE=function(r,t,n,e){if(r=+r,t>>>=0,n>>>=0,!e){var i=Math.pow(2,8*n)-1;M(this,r,t,n,i,0)}var a=n-1,o=1;for(this[t+a]=255&r;--a>=0&&(o*=256);)this[t+a]=r/o&255;return t+n},a.prototype.writeUInt8=function(r,t,n){return r=+r,t>>>=0,n||M(this,r,t,1,255,0),this[t]=255&r,t+1},a.prototype.writeUInt16LE=function(r,t,n){return r=+r,t>>>=0,n||M(this,r,t,2,65535,0),this[t]=255&r,this[t+1]=r>>>8,t+2},a.prototype.writeUInt16BE=function(r,t,n){return r=+r,t>>>=0,n||M(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=255&r,t+2},a.prototype.writeUInt32LE=function(r,t,n){return r=+r,t>>>=0,n||M(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=255&r,t+4},a.prototype.writeUInt32BE=function(r,t,n){return r=+r,t>>>=0,n||M(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r,t+4},a.prototype.writeIntLE=function(r,t,n,e){if(r=+r,t>>>=0,!e){var i=Math.pow(2,8*n-1);M(this,r,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&r;++a<n&&(o*=256);)r<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(r/o>>0)-s&255;return t+n},a.prototype.writeIntBE=function(r,t,n,e){if(r=+r,t>>>=0,!e){var i=Math.pow(2,8*n-1);M(this,r,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&r;--a>=0&&(o*=256);)r<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(r/o>>0)-s&255;return t+n},a.prototype.writeInt8=function(r,t,n){return r=+r,t>>>=0,n||M(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=255&r,t+1},a.prototype.writeInt16LE=function(r,t,n){return r=+r,t>>>=0,n||M(this,r,t,2,32767,-32768),this[t]=255&r,this[t+1]=r>>>8,t+2},a.prototype.writeInt16BE=function(r,t,n){return r=+r,t>>>=0,n||M(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=255&r,t+2},a.prototype.writeInt32LE=function(r,t,n){return r=+r,t>>>=0,n||M(this,r,t,4,2147483647,-2147483648),this[t]=255&r,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4},a.prototype.writeInt32BE=function(r,t,n){return r=+r,t>>>=0,n||M(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r,t+4},a.prototype.writeFloatLE=function(r,t,n){return B(this,r,t,!0,n)},a.prototype.writeFloatBE=function(r,t,n){return B(this,r,t,!1,n)},a.prototype.writeDoubleLE=function(r,t,n){return I(this,r,t,!0,n)},a.prototype.writeDoubleBE=function(r,t,n){return I(this,r,t,!1,n)},a.prototype.copy=function(r,t,n,e){if(!a.isMemory(r))throw new TypeError("argument should be a Memory");if(n||(n=0),e||0===e||(e=this.length),t>=r.length&&(t=r.length),t||(t=0),e>0&&e<n&&(e=n),e===n)return 0;if(0===r.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),r.length-t<e-n&&(e=r.length-t+n);var i=e-n;if(this===r&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,e);else if(this===r&&n<t&&t<e)for(var o=i-1;o>=0;--o)r[o+t]=this[o+n];else Uint8Array.prototype.set.call(r,this.subarray(n,e),t);return i},a.prototype.fill=function(r,t,n,e){if("string"==typeof r){if("string"==typeof t?(e=t,t=0,n=this.length):"string"==typeof n&&(e=n,n=this.length),void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");if("string"==typeof e&&!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);if(1===r.length){var i=r.charCodeAt(0);("utf8"===e&&i<128||"latin1"===e)&&(r=i)}}else"number"==typeof r&&(r&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0),"number"==typeof r)for(o=t;o<n;++o)this[o]=r;else{var s=a.isMemory(r)?r:new a(r,e),u=s.length;if(0===u)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%u]}return this};var T=/[^+/0-9A-Za-z-_]/g;function U(r){return r<16?"0"+r.toString(16):r.toString(16)}function P(r,t){var n;t=t||1/0;for(var e=r.length,i=null,a=[],o=0;o<e;++o){if((n=r.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===e){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function L(r){return t.toByteArray(function(r){if((r=(r=r.split("=")[0]).trim().replace(T,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}(r))}function R(r,t,n,e){for(var i=0;i<e&&!(i+n>=t.length||i>=r.length);++i)t[i+n]=r[i];return i}function N(r){return r instanceof ArrayBuffer||null!=r&&null!=r.constructor&&"ArrayBuffer"===r.constructor.name&&"number"==typeof r.byteLength}function D(r){return r!=r}return r.Memory=a}),r("skylark-langx-binary/get-type-of",["./binary","./memory"],function(r,t){return function(r){if("string"==typeof r)return"string";if("[object Array]"===Object.prototype.toString.call(r))return"array";if(t.isMemory(r))return"memory";if(r instanceof Uint8Array)return"uint8array";if(r instanceof ArrayBuffer)return"arraybuffer"}}),r("skylark-langx-binary/string-to-arraylike",["./binary"],function(r){return r.stringToArrayLike=function(r,t){for(var n=0;n<r.length;++n)t[n]=255&r.charCodeAt(n);return t}}),r("skylark-langx-binary/arraylike-to-string",["./binary","./get-type-of"],function(r,t){var n={stringifyByChunk:function(r,t,n){var e=[],i=0,a=r.length;if(a<=n)return String.fromCharCode.apply(null,r);for(;i<a;)"array"===t||"nodebuffer"===t?e.push(String.fromCharCode.apply(null,r.slice(i,Math.min(i+n,a)))):e.push(String.fromCharCode.apply(null,r.subarray(i,Math.min(i+n,a)))),i+=n;return e.join("")},stringifyByChar:function(r){for(var t="",n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},applyCanBeUsed:{uint8array:function(){try{return support.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(r){return!1}}(),nodebuffer:function(){try{return support.nodebuffer&&1===String.fromCharCode.apply(null,Buffer.alloc(1)).length}catch(r){return!1}}()}};return r.arrayLikeToString=function(r){var e=65536,i=t(r),a=!0;"uint8array"===i?a=n.applyCanBeUsed.uint8array:"memory"===i&&(a=n.applyCanBeUsed.nodebuffer);if(a)for(;e>1;)try{return n.stringifyByChunk(r,i,e)}catch(r){e=Math.floor(e/2)}return n.stringifyByChar(r)}}),r("skylark-langx-binary/transform",["./binary","./memory","./get-type-of","./string-to-arraylike","./arraylike-to-string"],function(r,t,n,e,i){function a(r){return r}function o(r,t){for(var n=0;n<r.length;n++)t[n]=r[n];return t}var s=function(r,t){if(t||(t=""),!r)return t;var e=n(t),i=s[e][r](t);return i};return s.string={string:a,array:function(r){return e(r,new Array(r.length))},arraybuffer:function(r){return s.string.uint8array(r).buffer},uint8array:function(r){return e(r,new Uint8Array(r.length))},memory:function(r){return e(r,Buffer.alloc(r.length))}},s.array={string:i,array:a,arraybuffer:function(r){return new Uint8Array(r).buffer},uint8array:function(r){return new Uint8Array(r)},memory:function(r){return t.from(r)}},s.arraybuffer={string:function(r){return i(new Uint8Array(r))},array:function(r){return o(new Uint8Array(r),new Array(r.byteLength))},arraybuffer:a,uint8array:function(r){return new Uint8Array(r)},memory:function(r){return t.from(new Uint8Array(r))}},s.uint8array={string:i,array:function(r){return o(r,new Array(r.length))},arraybuffer:function(r){return r.buffer},uint8array:a,memory:function(r){return t.from(r)}},s.memory={string:i,array:function(r){return o(r,new Array(r.length))},arraybuffer:function(r){return s.memory.uint8array(r).buffer},uint8array:function(r){return o(r,new Uint8Array(r.length))},memory:a},r.transform=s}),r("skylark-io-readers/_reader",["skylark-langx-events","skylark-langx-binary/transform","./readers"],function(r,t,n){"use strict";var e=r.Emitter.inherit({klassName:"Reader",_construct:function(r){this.data=r,this.length=r.length,this.index=0,this.zero=0},checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var t,n=0;for(this.checkOffset(r),t=this.index+r-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=r,n},readString:function(r){return t("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}});return n.Reader=e}),r("skylark-io-readers/array-reader",["./readers","./_reader"],function(r,t){"use strict";var n=t.inherit({klassName:"ArrayReader",_construct:function(r){t.prototype._construct.call(this,r);for(var n=0;n<this.data.length;n++)r[n]=255&r[n]},byteAt:function(r){return this.data[this.zero+r]},lastIndexOfSignature:function(r){for(var t=r.charCodeAt(0),n=r.charCodeAt(1),e=r.charCodeAt(2),i=r.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===e&&this.data[a+3]===i)return a-this.zero;return-1},readAndCheckSignature:function(r){var t=r.charCodeAt(0),n=r.charCodeAt(1),e=r.charCodeAt(2),i=r.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&e===a[2]&&i===a[3]},readData:function(r){if(this.checkOffset(r),0===r)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,t}});return r.ArrayReader=n}),r("skylark-io-readers/uint8-array-reader",["./readers","./array-reader"],function(r,t){"use strict";var n=t.inherit({klassName:"Uint8ArrayReader",readData:function(r){if(this.checkOffset(r),0===r)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,t}});return r.Uint8ArrayReader=n}),r("skylark-io-readers/buffer-reader",["./readers","./uint8-array-reader"],function(r,t){"use strict";var n=t.inherit({klassName:"BufferReader",readData:function(r){this.checkOffset(r);var t=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,t}});return r.BufferReader=n}),r("skylark-io-readers/string-reader",["./readers","./_reader"],function(r,t){"use strict";var n=t.inherit({klassName:"StringReader",byteAt:function(r){return this.data.charCodeAt(this.zero+r)},lastIndexOfSignature:function(r){return this.data.lastIndexOf(r)-this.zero},readAndCheckSignature:function(r){var t=this.readData(4);return r===t},readData:function(r){this.checkOffset(r);var t=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,t}});return r.StringReader=n}),r("skylark-io-readers/main",["./readers","./array-reader","./buffer-reader","./string-reader","./uint8-array-reader"],function(r){return r}),r("skylark-io-readers",["skylark-io-readers/main"],function(r){return r})}(n,require),!e){var o=require("skylark-langx-ns");i?module.exports=o:t.skylarkjs=o}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-io-readers-all.js.map
