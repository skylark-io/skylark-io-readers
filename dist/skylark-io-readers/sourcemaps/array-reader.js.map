{"version":3,"sources":["array-reader.js"],"names":["define","readers","Reader","ArrayReader","inherit","klassName","_construct","data","prototype","call","this","i","length","byteAt","zero","lastIndexOfSignature","sig","sig0","charCodeAt","sig1","sig2","sig3","readAndCheckSignature","readData","size","checkOffset","result","slice","index"],"mappings":";;;;;;;AAAAA,QACI,YACA,aACD,SAAUC,EAAQC,GACjB,aAEA,IAAIC,EAAcD,EAAOE,SACrBC,UAAW,cACXC,WAAc,SAASC,GACnBL,EAAOM,UAAUF,WAAWG,KAAKC,KAAKH,GACtC,IAAK,IAAII,EAAI,EAAGA,EAAID,KAAKH,KAAKK,OAAQD,IAClCJ,EAAKI,GAAe,IAAVJ,EAAKI,IAKvBE,OAAS,SAAUF,GACf,OAAOD,KAAKH,KAAKG,KAAKI,KAAOH,IAGjCI,qBAAuB,SAAUC,GAE7B,IADA,IAAIC,EAAOD,EAAIE,WAAW,GAAIC,EAAOH,EAAIE,WAAW,GAAIE,EAAOJ,EAAIE,WAAW,GAAIG,EAAOL,EAAIE,WAAW,GAC/FP,EAAID,KAAKE,OAAS,EAAGD,GAAK,IAAKA,EACpC,GAAID,KAAKH,KAAKI,KAAOM,GAAQP,KAAKH,KAAKI,EAAI,KAAOQ,GAAQT,KAAKH,KAAKI,EAAI,KAAOS,GAAQV,KAAKH,KAAKI,EAAI,KAAOU,EACxG,OAAOV,EAAID,KAAKI,KAGxB,OAAQ,GAGZQ,sBAAwB,SAAUN,GAC9B,IAAIC,EAAOD,EAAIE,WAAW,GAAIC,EAAOH,EAAIE,WAAW,GAAIE,EAAOJ,EAAIE,WAAW,GAAIG,EAAOL,EAAIE,WAAW,GAAIX,EAAOG,KAAKa,SAAS,GACjI,OAAON,IAASV,EAAK,IAAMY,IAASZ,EAAK,IAAMa,IAASb,EAAK,IAAMc,IAASd,EAAK,IAGrFgB,SAAW,SAAUC,GAEjB,GADAd,KAAKe,YAAYD,GACJ,IAATA,EACA,SAEJ,IAAIE,EAAShB,KAAKH,KAAKoB,MAAMjB,KAAKI,KAAOJ,KAAKkB,MAAOlB,KAAKI,KAAOJ,KAAKkB,MAAQJ,GAE9E,OADAd,KAAKkB,OAASJ,EACPE,KAIf,OAAOzB,EAAQE,YAAcA","file":"../array-reader.js","sourcesContent":["define([\n    \"./readers\",\n    './_reader'\n], function (readers,Reader) {\n    'use strict';\n\n    var ArrayReader = Reader.inherit({\n        klassName: \"ArrayReader\",\n        _construct :  function(data) {\n            Reader.prototype._construct.call(this,data);\n            for (var i = 0; i < this.data.length; i++) {\n                data[i] = data[i] & 255;\n            }            \n        },\n\n\n        byteAt : function (i) {\n            return this.data[this.zero + i];\n        },\n\n        lastIndexOfSignature : function (sig) {\n            var sig0 = sig.charCodeAt(0), sig1 = sig.charCodeAt(1), sig2 = sig.charCodeAt(2), sig3 = sig.charCodeAt(3);\n            for (var i = this.length - 4; i >= 0; --i) {\n                if (this.data[i] === sig0 && this.data[i + 1] === sig1 && this.data[i + 2] === sig2 && this.data[i + 3] === sig3) {\n                    return i - this.zero;\n                }\n            }\n            return -1;\n        },\n\n        readAndCheckSignature : function (sig) {\n            var sig0 = sig.charCodeAt(0), sig1 = sig.charCodeAt(1), sig2 = sig.charCodeAt(2), sig3 = sig.charCodeAt(3), data = this.readData(4);\n            return sig0 === data[0] && sig1 === data[1] && sig2 === data[2] && sig3 === data[3];\n        },\n\n        readData : function (size) {\n            this.checkOffset(size);\n            if (size === 0) {\n                return [];\n            }\n            var result = this.data.slice(this.zero + this.index, this.zero + this.index + size);\n            this.index += size;\n            return result;\n        }\n    });\n\n    return readers.ArrayReader = ArrayReader;\n});"]}